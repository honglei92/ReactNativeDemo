__d(function(e,t,n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=t(i[0]),a=babelHelpers.interopRequireDefault(o),s=t(i[1]),p=babelHelpers.interopRequireDefault(s),l=t(i[2]),d=t(i[3]),u=t(i[4]),c=t(i[5]),g=babelHelpers.interopRequireDefault(c),f=t(i[6]),h=babelHelpers.interopRequireDefault(f),_=t(i[7]),v=babelHelpers.interopRequireDefault(_),m=(t(i[8]),function(){}),b=l.Dimensions.get('window'),y=(b.width,b.height,l.Easing.inOut(l.Easing.ease)),P=['center','left'],H=500,x=.5,R=20,k=25,V=135,C=function(e){e.__isNative&&0===Object.keys(e._listeners).length&&e.addListener(m)},I=function(e){return 56},T=(function(e){function t(e){babelHelpers.classCallCheck(this,t);var n=babelHelpers.possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._gestureStartValue=0,n._isResponding=!1,n._immediateIndex=null,n._panResponder=l.PanResponder.create({onPanResponderTerminate:function(){var e=n.props.transitionProps.navigation.state.index;n._isResponding=!1,n._reset(e,0),n.props.onGestureCanceled&&n.props.onGestureCanceled()},onPanResponderGrant:function(){var e=n.props.transitionProps,t=e.navigation,r=e.position,i=e.scene;if(t.state.index!==i.index)return!1;r.stopAnimation(function(e){n._isResponding=!0,n._gestureStartValue=e}),n.props.onGestureBegin&&n.props.onGestureBegin()},onMoveShouldSetPanResponder:function(e,t){var r=n.props,i=r.transitionProps,o=i.navigation,a=i.layout,s=i.scene,p=r.mode,d=o.state.index,u='modal'===p,c=s.descriptor.options,g=c.gestureDirection,f='string'==typeof g?'inverted'===g:l.I18nManager.isRTL;if(d!==s.index)return!1;var h=null==n._immediateIndex?d:n._immediateIndex,_=t[u?'dy':'dx'],v=e.nativeEvent[u?'pageY':'pageX'],m=u?a.height.__getValue():a.width.__getValue(),b=!!m,y=f?m-(v-_):v-_,P=c.gestureResponseDistance,H=void 0===P?{}:P;return!(y>(u?H.vertical||V:H.horizontal||k))&&(Math.abs(_)>R&&b&&!(0===h))},onPanResponderMove:function(e,t){var r=n.props,i=r.transitionProps,o=i.navigation,a=i.position,s=i.layout,d=i.scene,u=r.mode,c=o.state.index,g='modal'===u,f=d.descriptor.options.gestureDirection,h='string'==typeof f?'inverted'===f:l.I18nManager.isRTL,_=n._gestureStartValue,v=g?'dy':'dx',m=g?s.height.__getValue():s.width.__getValue(),b='dx'===v&&h?_+t[v]/m:_-t[v]/m,y=(0,p.default)(c-1,b,c);a.setValue(y)},onPanResponderTerminationRequest:function(){return!1},onPanResponderRelease:function(e,t){var r=n.props,i=r.transitionProps,o=i.navigation,a=i.position,s=i.layout,p=i.scene,d=r.mode,u=o.state.index,c='modal'===d,g=p.descriptor.options.gestureDirection,f='string'==typeof g?'inverted'===g:l.I18nManager.isRTL;if(n._isResponding){n._isResponding=!1;var h=null==n._immediateIndex?u:n._immediateIndex,_=c?s.height.__getValue():s.width.__getValue(),v=f?-1:1,m=v*t[c?'dy':'dx'],b=v*t[c?'vy':'vx'],y=_/H,P=Math.max(Math.abs(b),y),R=f?(_-m)/P:m/P,k=f?m/P:(_-m)/P;a.stopAnimation(function(e){return b<-.5?(n.props.onGestureCanceled&&n.props.onGestureCanceled(),void n._reset(h,R)):b>.5?(n.props.onGestureFinish&&n.props.onGestureFinish(),void n._goBack(h,k)):void(e<=u-x?(n.props.onGestureFinish&&n.props.onGestureFinish(),n._goBack(h,k)):(n.props.onGestureCanceled&&n.props.onGestureCanceled(),n._reset(h,R)))})}}}),n._onFloatingHeaderLayout=function(e){n.setState({floatingHeaderHeight:e.nativeEvent.layout.height})},n._getTransitionConfig=function(){var e='modal'===n.props.mode;return v.default.getTransitionConfig(n.props.transitionConfig,n.props.transitionProps,n.props.lastTransitionProps,e)},n._renderCard=function(e){var t=n._getTransitionConfig().screenInterpolator,r=t&&t(babelHelpers.extends({},n.props.transitionProps,{scene:e})),i=e.descriptor.options,o=null!==i.header,s=n._getHeaderMode(),p=0;return o&&'float'===s&&!i.headerTransparent&&(p=n.state.floatingHeaderHeight),a.default.createElement(g.default,babelHelpers.extends({},n.props.transitionProps,{key:"card_"+e.key,transparent:n.props.transparentCard,style:[r,{paddingTop:p},n.props.cardStyle],scene:e}),n._renderInnerScene(e))},n.state={floatingHeaderHeight:I(e.isLandscape)},n}return babelHelpers.inherits(t,e),babelHelpers.createClass(t,[{key:"_renderHeader",value:function(e,t){var n=e.descriptor.options.header;if(null===n&&'screen'===t)return null;if(a.default.isValidElement(n))return n;var r=n||function(e){return a.default.createElement(h.default,e)},i=this._getTransitionConfig(),o=i.headerLeftInterpolator,s=i.headerTitleInterpolator,p=i.headerRightInterpolator,l=i.headerBackgroundInterpolator,u=this.props,c=u.transitionProps,g=babelHelpers.objectWithoutProperties(u,["transitionProps"]);return a.default.createElement(d.NavigationProvider,{value:e.descriptor.navigation},r(babelHelpers.extends({},g,c,{scene:e,mode:t,transitionPreset:this._getHeaderTransitionPreset(),layoutPreset:this._getHeaderLayoutPreset(),backTitleVisible:this._getheaderBackTitleVisible(),leftInterpolator:o,titleInterpolator:s,rightInterpolator:p,backgroundInterpolator:l})))}},{key:"_animatedSubscribe",value:function(e){C(e.transitionProps.layout.width),C(e.transitionProps.layout.height),C(e.transitionProps.position)}},{key:"_reset",value:function(e,t){l.Animated.timing(this.props.transitionProps.position,{toValue:e,duration:t,easing:y,useNativeDriver:this.props.transitionProps.position.__isNative}).start()}},{key:"_goBack",value:function(e,t){var n=this,r=this.props.transitionProps,i=r.navigation,o=r.position,a=r.scenes,s=Math.max(e-1,0);this._immediateIndex=s;l.Animated.timing(o,{toValue:s,duration:t,easing:y,useNativeDriver:o.__isNative}).start(function(){n._immediateIndex=null;var e=a.find(function(e){return e.index===s+1});!n._isResponding&&e&&(i.dispatch(d.NavigationActions.back({key:e.route.key,immediate:!0})),i.dispatch(d.StackActions.completeTransition()))})}},{key:"render",value:function(){var e=this,t=null,n=this._getHeaderMode();if('float'===n){var r=this.props.transitionProps.scene;t=a.default.createElement(l.View,{style:E.floatingHeader,pointerEvents:"box-none",onLayout:this._onFloatingHeaderLayout},this._renderHeader(r,n))}var i=this.props.transitionProps,o=i.scene,s=i.scenes,p=o.descriptor.options,d='boolean'==typeof p.gesturesEnabled&&p.gesturesEnabled,c=d?this._panResponder:null,g=d?c.panHandlers:{},f=[E.container,this._getTransitionConfig().containerStyle];return a.default.createElement(l.View,babelHelpers.extends({},g,{style:f}),a.default.createElement(u.ScreenContainer,{style:E.scenes},s.map(function(t){return e._renderCard(t)})),t)}},{key:"_getHeaderMode",value:function(){return this.props.headerMode?this.props.headerMode:'screen'}},{key:"_getHeaderLayoutPreset",value:function(){var e=this.props.headerLayoutPreset;return e&&P.includes(e)?e:'left'}},{key:"_getHeaderTransitionPreset",value:function(){return'fade-in-place'}},{key:"_getheaderBackTitleVisible",value:function(){return this.props.headerBackTitleVisible}},{key:"_renderInnerScene",value:function(e){var t=e.descriptor,n=t.navigation,r=(0,t.getComponent)(),i=this.props.screenProps,o=this._getHeaderMode();return'screen'===o?a.default.createElement(l.View,{style:E.container},a.default.createElement(l.View,{style:E.scenes},a.default.createElement(d.SceneView,{screenProps:i,navigation:n,component:r})),this._renderHeader(e,o)):a.default.createElement(d.SceneView,{screenProps:i,navigation:n,component:r})}}]),t})(a.default.Component),E=l.StyleSheet.create({container:{flex:1,flexDirection:'column-reverse',overflow:'hidden'},scenes:{flex:1},floatingHeader:{position:'absolute',left:0,top:0,right:0}});r.default=(0,d.withOrientation)(T)},335,[102,336,12,307,337,338,341,350,352]);